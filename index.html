<!DOCTYPE html>
<html lang="en">
<head>
  <title>Hello, world! This is lab 3 </title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="" />
  <link rel="stylesheet" href="https://js.arcgis.com/4.25/esri/themes/light/main.css">
  <script src="https://js.arcgis.com/4.25/"></script>

  <style>
    html,
    body,
    #viewDiv {
      padding: 0;
      margin: 0;
      height: 100%;
      width: 100%;
    }
  </style>

  <script>  

    console.log("in index.html ...")

    require([
      "esri/config", 
      "esri/Map", 
      "esri/views/MapView",
      "esri/widgets/BasemapGallery",
      "esri/widgets/BasemapToggle",
      "esri/widgets/Locate",
      "esri/widgets/Search"],
      function(esriConfig, 
      Map, MapView,
      BasemapGallery,
      BasemapToggle,
      Locate,
      Search) {  
      esriConfig.apiKey = "AAPK31b6d186207249df8e734143d5a55707PfJ6EjieaYZVgURT8tlc7AuNytCxnD5Yg7FAFXY_nw7zKZlDoa8F1Ob929e5pYUa";
      
      const map = new Map({
        basemap: "arcgis-imagery" // Basemap layer
      });

      console.log("setting up mapView  ...")


      const view = new MapView({
        map: map,
        center: [-89., 43],
        zoom: 13, // scale: 72223.819286
        container: "viewDiv",
        constraints: {
          snapToZoom: false
        }

      }); // end MapView

      console.log("setting up basemap gallery ...")

      // basemap
      const basemapGallery = new BasemapGallery({
        view: view,
        container: basemapGalleryDiv
          });

      console.log("setting up basemap toggle ...")

      // basemap toggle
      const basemapToggle = new BasemapToggle({
        view: view,
        nextBasemap: "hybrid"
      })

      console.log("setting up locateBtn  ...")

      // Locate Button
      const locateBtn = new Locate({
          view: view
        });

      // Search Widget
      const searchWidget = new Search({
        view: view
      })

      // Add the widget to the top-right corner of the view
      view.ui.add(basemapGallery, {
      position: "top-right"
      });

      //add the locate widget to the top left corner of the view
      view.ui.add(locateBtn, {
      position: "top-left"
      })

      // Search Widget
      view.ui.add(searchWidget, {
        position: "top-right"
      })
    });  // end require

    console.log(" done with script .for now..")
   </script>


</head>
<body>
  <!-- div to display map -->
  <div id="viewDiv"></div>

  <!-- map gallery -->
  <div id="basemapGalleryDiv"></div>
</body>

</body>
</html>

